/**
 * angular-mixin - Angular providers for defining traits as mixins for Angular objects
 * @version v0.3.0
 * @link https://github.com/StackAndHeap/angular-mixin
 * @license MIT
 * @author Roland Zwaga <roland@stackandheap.com>
 */
!function(){"use strict";var n,r=angular.module("angular-mixin",["ng"]);r.provider("$angularTrait",[function(){var n={};this.register=function(r,t){return n[r]=t,this},this.$get=[function(){return function(r){return n[r]}}]}]),r.provider("$angularMixin",["$controllerProvider","$provide",function(r,i){function e(n,r,t,i,e){t[r].forEach(function(r){var t=e(r);angular.isFunction(t)?t.call(n.prototype):angular.extend(n.prototype,t)}),delete i[r]}function a(n,r){var t=n.instantiate;o.instantiate=function(n,i){var a=n;return angular.isArray(a)&&(a=a[a.length-1]),a.$$ngName&&c[a.$$ngName]&&e(a,a.$$ngName,c,s,r),t(n,i)}}function u(r,t){angular.isString(r)&&t[r]&&n.injectInterceptors(r,t)}var o,c={},g={},s={},l=r.$get;n=new t,r.$get=["$injector","$window","$angularTrait","$rootElement",function(n,r,t,i){var f=l[2](n,r),p=function(n,r){if(o||(o=i.data("$injector"),a(o,t)),angular.isString(n)&&c[n]&&s[n]){var l=s[n];e(l,n,c,s,t)}var p,v=Function.prototype.bind;try{u(n,g),p=f(n,r)}finally{Function.prototype.bind=v}return p};return p}];var f=r.register;r.register=function(n,r){var t=r;angular.isArray(t)&&(t=t[t.length-1]),s[n]=t,f(n,r)};var p=i.service;i.service=function(n,r){var t=r;return angular.isArray(t)&&(t=t[t.length-1]),t.$$ngName=n,p(n,r)},this.register=function(n,r){return angular.isString(r)&&(r=[r]),c[n]=r,this},this.registerInterceptor=function(n,r){var t=n.split("."),i=t[0],e=t[1];return g[i]||(g[i]={}),g[i][e]||(g[i][e]=[]),g[i][e].push(r),this},this.$get=[function(){return{}}]}]);var t=function(){function n(n,r){for(var t in r)if(r[t]===n)return t;return null}function r(n,r,t){var i=t[r];return i?i[n]:null}this.injectInterceptors=function(t,i){var e=Function.prototype.bind;Function.prototype.bind=function(){var a=this,u=arguments[0],o=n(a,u),c=a;return o&&(c=function(){var n=r(o,t,i),e=function(){for(var r=0,t=n.length;t>r;r++){var i=[u,o,a,arguments];n[r].apply(u,i)}return a.apply(u,arguments)};return e.apply(u,arguments)}),e.apply(c,arguments)}}}}();