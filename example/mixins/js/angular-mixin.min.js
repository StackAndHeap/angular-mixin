/**
 * angular-mixin - Extending Angular to provide a mixin() method in an Angular module
 * @version v0.2.0
 * @link https://github.com/StackAndHeap/angular-mixin
 * @license MIT
 * @author Roland Zwaga <roland@stackandheap.com>
 */
!function(){"use strict";function r(r,n,e){var t=[n,e];return r._invokeQueue.push(["$angularTraitProvider","register",t]),r}function n(r,n){var e;if(angular.isString(n))e=[n];else{if(!angular.isArray(n))return r;e=n}var t,i=r._invokeQueue[r._invokeQueue.length-1];return"$controllerProvider"===i[0]?(t=[i[2][0],e],r._invokeQueue.push(["$angularMixinProvider","registerMixin",t])):"$provide"===i[0]&&"service"===i[1]&&(t=[i[2][0],e],r._invokeQueue.push(["$angularMixinProvider","registerMixin",t])),r}function e(r){return r}var t=angular.module("angular-mixin",["ng"]);t.provider("$angularTrait",[function(){var r={};this.register=function(n,e){r[n]=e},this.$get=[function(){return function(n){return r[n]}}]}]),t.provider("$angularMixin",["$controllerProvider","$provide",function(r,n){function e(r,n){var e=r.instantiate;t.instantiate=function(r,t){var a=r;return angular.isArray(a)&&(a=a[a.length-1]),a.$$ngName&&i[a.$$ngName]&&(i[a.$$ngName].forEach(function(r){var e=n(r);angular.isFunction(e)?e.call(a.prototype):angular.extend(a.prototype,e)}),delete u[a.$$ngName]),e(r,t)}}var t,i={},a={},u={},o=r.$get;r.$get=["$injector","$window","$angularTrait","$rootElement",function(r,n,a,g){var c=o[2](r,n),l=function(r,n){if(t||(t=g.data("$injector"),e(t,a)),angular.isString(r)&&i[r]&&u[r]){var o=u[r];i[r].forEach(function(r){var n=a(r);angular.isFunction(n)?n.call(o.prototype):angular.extend(o.prototype,n)}),delete u[r]}return c(r,n)};return l}];var g=r.register;r.register=function(r,n){var e=n;angular.isArray(e)&&(e=e[e.length-1]),u[r]=e,g(r,n)};var c=n.service;n.service=function(r,n){var e=n;return angular.isArray(e)&&(e=e[e.length-1]),e.$$ngName=r,c(r,n)},this.registerMixin=function(r,n){i[r]=n},this.registerInterceptor=function(r,n){a[r]=n},this.$get=[function(){return{}}]}]);var i=angular.module;angular.module=function(t,a,u){var o=i(t,a,u);return o.mixin=function(r){return n(o,r)},o.trait=function(n,e){return r(o,n,e)},o.intercept=function(){return e(o)},o}}();