/**
 * angular-mixin - Angular providers for defining traits as mixins for Angular objects
 * @version v0.3.0
 * @link https://github.com/StackAndHeap/angular-mixin
 * @license MIT
 * @author Roland Zwaga <roland@stackandheap.com>
 */
!function(){"use strict";var n,r=angular.module("angular-mixin",["ng"]);r.provider("$angularTrait",[function(){var n={};this.register=function(r,t){return n[r]=t,this},this.$get=[function(){return function(r){return n[r]}}]}]),r.provider("$angularMixin",["$controllerProvider","$provide",function(r,i){function e(n,r,t,i,e){t[r].forEach(function(r){var t=e(r);angular.isFunction(t)?t.call(n.prototype):angular.extend(n.prototype,t)}),delete i[r]}function a(n,r){var t=n.instantiate;c.instantiate=function(n,i){var a=n;return angular.isArray(a)&&(a=a[a.length-1]),a.$$ngName&&s[a.$$ngName]&&e(a,a.$$ngName,s,l,r),t(n,i)}}function u(r,t){angular.isString(r)&&t[r]&&n.injectCtorInterceptors(r,t)}function o(r,t,i){angular.isString(t)&&i[t]&&n.injectInstanceMethods(r,t,i)}var c,s={},g={},l={},f=r.$get;n=new t,r.$get=["$injector","$window","$angularTrait","$rootElement",function(n,r,t,i){var p=f[2](n,r),v=function(n,r){if(c||(c=i.data("$injector"),a(c,t)),angular.isString(n)&&s[n]&&l[n]){var f=l[n];e(f,n,s,l,t)}var v,h=Function.prototype.bind;try{u(n,g),v=p(n,r),o(v,n,g)}finally{Function.prototype.bind=h}return v};return v}];var p=r.register;r.register=function(n,r){var t=r;angular.isArray(t)&&(t=t[t.length-1]),l[n]=t,p(n,r)};var v=i.service;i.service=function(n,r){var t=r;return angular.isArray(t)&&(t=t[t.length-1]),t.$$ngName=n,v(n,r)},this.register=function(n,r){return angular.isString(r)&&(r=[r]),s[n]=r,this},this.registerInterceptor=function(n,r){var t=n.split("."),i=t[0],e=t[1];return g[i]||(g[i]={}),g[i][e]||(g[i][e]=[]),g[i][e].push(r),this},this.$get=[function(){return{}}]}]);var t=function(){function n(n,r,t){var i=n[r];n[r]=function(){for(var e=0,a=t.length;a>e;e++){var u=[n,r,i,arguments];t[e].apply(n,u)}return i.apply(n,arguments)}}function r(n,r){for(var t in r)if(r[t]===n)return t;return null}function t(n,r,t){var i=t[r];return i?i[n]:null}this.injectCtorInterceptors=function(n,i){var e=Function.prototype.bind;Function.prototype.bind=function(){var a=this,u=arguments[0],o=r(a,u),c=a;return o&&(c=function(){var r=t(o,n,i),e=function(){for(var n=0,t=r.length;t>n;n++){var i=[u,o,a,arguments];r[n].apply(u,i)}return a.apply(u,arguments)};return e.apply(u,arguments)}),e.apply(c,arguments)}},this.injectInstanceMethods=function(r,t,i){var e=i[t];for(var a in e)r.hasOwnProperty(a)&&n(r,a,e[a])}}}();